var socket=io("http://localhost:4000");socket.on("connect",function(){console.log("connected!"),socket.emit("update-me")});var data={labels:[],series:[[]]},seq=0,delays=80,durations=500;socket.on("update",function(e){var t=e[0],a=data.series[0];console.log("Trend: ",t),console.log("Time: ",r),console.log("Data: ",a);for(var s=9;s>0;s--){console.log("History: ",t.history[s]);var a=data.series[0],i=t.history[s].price,o=new Date(t.history[s].created).getHours(),n=new Date(t.history[s].created).getMinutes(),r=o+":"+n;a.push(i),data.labels.push(r)}$("#trendName").html(t.name),new Chartist.Line(".ct-chart",data,{showArea:!0}).on("created",function(){seq=0}).on("draw",function(e){if(seq++,"line"===e.type)e.element.animate({opacity:{begin:seq*delays+1e3,dur:durations,from:0,to:1}});else if("label"===e.type&&"x"===e.axis)e.element.animate({y:{begin:seq*delays,dur:durations,from:e.y+100,to:e.y,easing:"easeOutQuart"}});else if("label"===e.type&&"y"===e.axis)e.element.animate({x:{begin:seq*delays,dur:durations,from:e.x-100,to:e.x,easing:"easeOutQuart"}});else if("point"===e.type)e.element.animate({x1:{begin:seq*delays,dur:durations,from:e.x-10,to:e.x,easing:"easeOutQuart"},x2:{begin:seq*delays,dur:durations,from:e.x-10,to:e.x,easing:"easeOutQuart"},opacity:{begin:seq*delays,dur:durations,from:0,to:1,easing:"easeOutQuart"}});else if("grid"===e.type){var t={begin:seq*delays,dur:durations,from:e[e.axis.units.pos+"1"]-30,to:e[e.axis.units.pos+"1"],easing:"easeOutQuart"},a={begin:seq*delays,dur:durations,from:e[e.axis.units.pos+"2"]-100,to:e[e.axis.units.pos+"2"],easing:"easeOutQuart"},s={};s[e.axis.units.pos+"1"]=t,s[e.axis.units.pos+"2"]=a,s.opacity={begin:seq*delays,dur:durations,from:0,to:1,easing:"easeOutQuart"},e.element.animate(s)}}).on("created",function(){window.__exampleAnimateTimeout&&(clearTimeout(window.__exampleAnimateTimeout),window.__exampleAnimateTimeout=null)})});var socket=io("http://api.tweetstockr.com/");socket.on("connect",function(){console.log("connected!"),socket.emit("update-me")});var data={labels:[],series:[[]]},seq=0,delays=80,durations=500;socket.on("update",function(e){var t=e[0],a=data.series[0];console.log("Trend: ",t),console.log("Time: ",r),console.log("Data: ",a);for(var s=9;s>0;s--){console.log("History: ",t.history[s]);var a=data.series[0],i=t.history[s].price,o=new Date(t.history[s].created).getHours(),n=new Date(t.history[s].created).getMinutes(),r=o+":"+n;a.push(i),data.labels.push(r)}$("#trendName").html(t.name),new Chartist.Line(".ct-chart",data,{showArea:!0}).on("created",function(){seq=0}).on("draw",function(e){if(seq++,"line"===e.type)e.element.animate({opacity:{begin:seq*delays+1e3,dur:durations,from:0,to:1}});else if("label"===e.type&&"x"===e.axis)e.element.animate({y:{begin:seq*delays,dur:durations,from:e.y+100,to:e.y,easing:"easeOutQuart"}});else if("label"===e.type&&"y"===e.axis)e.element.animate({x:{begin:seq*delays,dur:durations,from:e.x-100,to:e.x,easing:"easeOutQuart"}});else if("point"===e.type)e.element.animate({x1:{begin:seq*delays,dur:durations,from:e.x-10,to:e.x,easing:"easeOutQuart"},x2:{begin:seq*delays,dur:durations,from:e.x-10,to:e.x,easing:"easeOutQuart"},opacity:{begin:seq*delays,dur:durations,from:0,to:1,easing:"easeOutQuart"}});else if("grid"===e.type){var t={begin:seq*delays,dur:durations,from:e[e.axis.units.pos+"1"]-30,to:e[e.axis.units.pos+"1"],easing:"easeOutQuart"},a={begin:seq*delays,dur:durations,from:e[e.axis.units.pos+"2"]-100,to:e[e.axis.units.pos+"2"],easing:"easeOutQuart"},s={};s[e.axis.units.pos+"1"]=t,s[e.axis.units.pos+"2"]=a,s.opacity={begin:seq*delays,dur:durations,from:0,to:1,easing:"easeOutQuart"},e.element.animate(s)}}).on("created",function(){window.__exampleAnimateTimeout&&(clearTimeout(window.__exampleAnimateTimeout),window.__exampleAnimateTimeout=null)})});